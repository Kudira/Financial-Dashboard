{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport yahooFinance from 'yahoo-finance2';\nexport const useFinancialData = (symbol = 'IBM') => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch historical data for the last 30 days\n        const results = await yahooFinance.historical(symbol, {\n          period1: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          period2: new Date().toISOString().split('T')[0],\n          interval: '1d'\n        });\n        if (!results || results.length === 0) {\n          throw new Error('No data available for this symbol');\n        }\n        const formattedData = results.map(item => ({\n          date: item.date.toISOString().split('T')[0],\n          open: item.open,\n          high: item.high,\n          low: item.low,\n          close: item.close,\n          volume: item.volume\n        })).reverse(); // Reverse to show most recent first\n\n        setData(formattedData);\n        setError(null);\n      } catch (err) {\n        setError(err.message);\n        // Fallback sample data\n        setData(getSampleData(symbol));\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [symbol]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\n// Sample data fallback\n_s(useFinancialData, \"C4fiAW6C7RZgaKDoEXQgZpbuUZg=\");\nfunction getSampleData(symbol) {\n  const basePrice = symbol === 'AAPL' ? 150 : symbol === 'MSFT' ? 250 : 100;\n  return Array.from({\n    length: 30\n  }, (_, i) => {\n    const date = new Date();\n    date.setDate(date.getDate() - (29 - i));\n    const volatility = Math.random() * 0.1 * basePrice;\n    const open = basePrice + (Math.random() - 0.5) * volatility;\n    return {\n      date: date.toISOString().split('T')[0],\n      open: parseFloat(open.toFixed(2)),\n      high: parseFloat((open + Math.random() * volatility).toFixed(2)),\n      low: parseFloat((open - Math.random() * volatility).toFixed(2)),\n      close: parseFloat((open + (Math.random() - 0.5) * volatility).toFixed(2)),\n      volume: Math.floor(Math.random() * 10000000) + 1000000\n    };\n  });\n}","map":{"version":3,"names":["useState","useEffect","yahooFinance","useFinancialData","symbol","_s","data","setData","loading","setLoading","error","setError","fetchData","results","historical","period1","Date","now","toISOString","split","period2","interval","length","Error","formattedData","map","item","date","open","high","low","close","volume","reverse","err","message","getSampleData","basePrice","Array","from","_","i","setDate","getDate","volatility","Math","random","parseFloat","toFixed","floor"],"sources":["C:/Users/DELL USER/fin-dash/src/hooks/useFinancialData.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport yahooFinance from 'yahoo-finance2';\r\n\r\nexport const useFinancialData = (symbol = 'IBM') => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch historical data for the last 30 days\r\n        const results = await yahooFinance.historical(symbol, {\r\n          period1: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n          period2: new Date().toISOString().split('T')[0],\r\n          interval: '1d'\r\n        });\r\n\r\n        if (!results || results.length === 0) {\r\n          throw new Error('No data available for this symbol');\r\n        }\r\n\r\n        const formattedData = results.map(item => ({\r\n          date: item.date.toISOString().split('T')[0],\r\n          open: item.open,\r\n          high: item.high,\r\n          low: item.low,\r\n          close: item.close,\r\n          volume: item.volume\r\n        })).reverse(); // Reverse to show most recent first\r\n\r\n        setData(formattedData);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        // Fallback sample data\r\n        setData(getSampleData(symbol));\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [symbol]);\r\n\r\n  return { data, loading, error };\r\n};\r\n\r\n// Sample data fallback\r\nfunction getSampleData(symbol) {\r\n  const basePrice = symbol === 'AAPL' ? 150 : symbol === 'MSFT' ? 250 : 100;\r\n  return Array.from({ length: 30 }, (_, i) => {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - (29 - i));\r\n    const volatility = Math.random() * 0.1 * basePrice;\r\n    const open = basePrice + (Math.random() - 0.5) * volatility;\r\n    return {\r\n      date: date.toISOString().split('T')[0],\r\n      open: parseFloat(open.toFixed(2)),\r\n      high: parseFloat((open + Math.random() * volatility).toFixed(2)),\r\n      low: parseFloat((open - Math.random() * volatility).toFixed(2)),\r\n      close: parseFloat((open + (Math.random() - 0.5) * volatility).toFixed(2)),\r\n      volume: Math.floor(Math.random() * 10000000) + 1000000\r\n    };\r\n  });\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}